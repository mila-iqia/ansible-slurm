[Unit]
Description=Slurm controller daemon
After=network.target mariadb.service 
ConditionPathExists=/etc/slurm/slurm.conf

[Service]
Type=forking
User=slurm
Group=slurm
EnvironmentFile=-/etc/sysconfig/slurmdbd
#trigger autofs mount needed by slurm
ExecStartPre=-/usr/bin/ls /var/lib/slurm/slurmctld
ExecStart=/opt/slurm/sbin/slurmdbd $SLURMDBD_OPTIONS
ExecReload=/bin/kill -HUP $MAINPID
PIDFile=/var/run/slurm/slurmdbd.pid
LimitNOFILE=65536
RuntimeDirectory=slurm

[Install]
WantedBy=multi-user.target
